signup:
  post:
    operationId: "createUser"
    "summary": "create new user"
    description: "Create a new user in db collection(users)"
    tags:
      - "Auth"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schema/auth.yaml#/SignupRequest"
    responses:
      201:
        description: "user created successfully"
        content:
          application/json:
            example:
              ok: true
              message: "Sign up successfully"
              user:
                id: "695d0babedf79cffd1f83999"
                name: "john"
                email: "john@mail.co"
                createdAt: "2026-01-19T19:22:20.707Z"
                updatedAt: "2026-01-19T19:22:20.707Z"
                role: "USER"

login:
  post:
    operationId: "login"
    "summary": "login users"
    description: "login user with email and password"
    tags:
      - "Auth"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schema/auth.yaml#/LoginRequest"
    responses:
      200:
        description: "user logged in successfully"
        content:
          application/json:
            example:
              ok: true
              message: "login successfully"
              accessToken: "<accessToken Value>"
              user:
                id: "695d0babedf79cffd1f83999"
                name: "john"
                email: "john@mail.co"
                createdAt: "2026-01-19T19:22:20.707Z"
                updatedAt: "2026-01-19T19:22:20.707Z"
                role: "USER"
      403:
        description: "Forbidden. This account is banned. Login is not allowed."
        content:
          application/json:
            example:
              ok: false
              message: "This account is banned. Login is not allowed. Please contact support if you think this is a mistake."
              email: "john@mail.com"
              code: "BANNED_EMAIL"

getMe:
  get:
    operationId: "getMe"
    "summary": "get user info"
    description: "get user safe-information in db collection(users)"
    tags:
      - "Auth"
    responses:
      200:
        description: "user logged in successfully"
        content:
          application/json:
            example:
              ok: true
              message: "login successfully"
              accessToken: "<accessToken Value>"
              user:
                id: "695d0babedf79cffd1f83999"
                name: "john"
                email: "john@mail.co"
                createdAt: "2026-01-19T19:22:20.707Z"
                updatedAt: "2026-01-19T19:22:20.707Z"
                role: "USER"
      401:
        description: "Unauthorized - missed access token"
        content:
          application/json:
            example:
              ok: false
              message: "Access token is required"
              code: "ACCESS_TOKEN_MISSING"