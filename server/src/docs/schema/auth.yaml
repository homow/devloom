# Request body and response for user signup
SignupRequest:
  type: object
  properties:
    name:
      type: string
      minLength: 3
      maxLength: 20
      description: "name must be at least 3 characters and less than 20 characters"
    email:
      type: string
      format: email
    password:
      type: string
      minLength: 6
      pattern: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]+$/
      description: "password must be at least 6 characters and contain at least one letter and one number"

  required:
    - email
    - password

  example:
    name: "john"
    email: "john@mail.co"
    password: "123qwe"

# Request body and response for user login
LoginRequest:
  type: object
  description: "User login request payload"
  properties:
    remember:
      type: boolean
      description: "Keep user logged in (remember me)"

    email:
      type: string
      format: email
      description: "User email address"

    password:
      type: string
      format: password
      minLength: 6
      pattern: '^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]+$'
      description: "Password must contain at least one letter and one number"

  required:
    - email
    - password

  example:
    remember: true
    email: "john@mail.co"
    password: "123qwe"

GetUserRequest:
  type: object
  description: "Get one User"
  properties:
    id:
      type: string
      format: ObjectId
      description: "User MongoDB ObjectId"

    email:
      type: string
      format: email
      description: "User email address"

    oneOf:
      - required: [ id ]
      - required: [ email ]

UpdateUserRequest:
  type: object
  description: "Get one User"
  properties:
    "type": object
    "properties":
      name:
        type: string
        minLength: 3
      password:
        type: string
        minLength: 6
        pattern: '^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]+$'
        description: "required, at least 6 chars, must contain at least one letter and one number"
    oneOf:
      - required: [ email ]
      - required: [ password ]
